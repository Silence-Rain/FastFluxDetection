Testing 'true' at line number 8
Testing 'false' at line number 12
Testing 'null' at line number 16
Testing '1' at line number 20
Testing '-1' at line number 25
Testing '{}' at line number 31
Testing '[]' at line number 35
Testing '{x: -1}' at line number 39
Testing '.' at line number 46
Testing '"Aa\r\n\t\b\f\u03bc"' at line number 52
Testing '.' at line number 56
Testing '"inter\("pol" + "ation")"' at line number 60
Testing '@text,@json,([1,.] | (@csv, @tsv)),@html,@uri,@sh,@base64' at line number 64
Testing '@base64' at line number 76
Testing '@uri' at line number 80
Testing '@html "<b>\(.)</b>"' at line number 84
Testing '[.[]|tojson|fromjson]' at line number 88
Testing '{a: 1}' at line number 96
Testing '{a,b,(.d):.a,e:.b}' at line number 100
Testing '{"a",b,"a$\(1+1)"}' at line number 104
Testing '{(0):1}' at line number 109
Testing '{non_const:., (0):1}' at line number 113
Testing '.foo' at line number 120
Testing '.foo | .bar' at line number 124
Testing '.foo.bar' at line number 128
Testing '.foo_bar' at line number 132
Testing '.["foo"].bar' at line number 136
Testing '."foo"."bar"' at line number 140
Testing '[.[]|.foo?]' at line number 144
Testing '[.[]|.foo?.bar?]' at line number 148
Testing '[..]' at line number 152
Testing '[.[]|.[]?]' at line number 156
Testing '[.[]|.[1:3]?]' at line number 160
Testing 'try (.foo[-1] = 0) catch .' at line number 168
Testing 'try (.foo[-2] = 0) catch .' at line number 172
Testing '.[-1] = 5' at line number 176
Testing '.[-2] = 5' at line number 180
Testing '.[]' at line number 188
Testing '1,1' at line number 194
Testing '1,.' at line number 199
Testing '[.]' at line number 204
Testing '[[2]]' at line number 208
Testing '[{}]' at line number 212
Testing '[.[]]' at line number 216
Testing '[(.,1),((.,.[]),(2,3))]' at line number 220
Testing '[([5,5][]),.,.[]]' at line number 224
Testing '{x: (1,2)},{x:3} | .x' at line number 228
Testing '.[-2]' at line number 234
Testing '[range(0;10)]' at line number 238
Testing '[range(0,1;3,4)]' at line number 242
Testing '[range(0;10;3)]' at line number 246
Testing '[range(0;10;-1)]' at line number 250
Testing '[range(0;-5;-1)]' at line number 254
Testing '[range(0,1;4,5;1,2)]' at line number 258
Testing '[while(.<100; .*2)]' at line number 262
Testing '[(label $here | .[] | if .>1 then break $here else . end), "hi!"]' at line number 266
Testing '[(label $here | .[] | if .>1 then break $here else . end), "hi!"]' at line number 270
Testing '. as $foo | break $foo' at line number 275
Testing '[.[]|[.,1]|until(.[0] < 1; [.[0] - 1, .[1] * .[0]])|.[1]]' at line number 278
Testing '[label $out | foreach .[] as $item ([3, null]; if .[0] < 1 then break $out else [.[0] -1, $item] end; .[1])]' at line number 282
Testing '[foreach range(5) as $item (0; $item)]' at line number 286
Testing '[foreach .[] as [$i, $j] (0; . + $i - $j)]' at line number 290
Testing '[foreach .[] as {a:$a} (0; . + $a; -.)]' at line number 294
Testing '[limit(3; .[])]' at line number 298
Testing '[first(range(.)), last(range(.)), nth(0; range(.)), nth(5; range(.)), try nth(-1; range(.)) catch .]' at line number 302
Testing '[limit(5,7; range(9))]' at line number 312
Testing '[nth(5,7; range(9;0;-1))]' at line number 317
Testing '[range(0,1,2;4,3,2;2,3)]' at line number 322
Testing '[range(3,5)]' at line number 327
Testing '[(index(",","|"), rindex(",","|")), indices(",","|")]' at line number 332
Testing 'join(",","/")' at line number 337
Testing '[.[]|join("a")]' at line number 342
Testing 'flatten(3,2,1)' at line number 347
Testing '[.[3:2], .[-5:4], .[:-2], .[-2:], .[3:3][1:], .[10:]]' at line number 358
Testing '[.[3:2], .[-5:4], .[:-2], .[-2:], .[3:3][1:], .[10:]]' at line number 362
Testing 'del(.[2:4],.[0],.[-2:])' at line number 366
Testing '.[2:4] = ([], ["a","b"], ["a","b","c"])' at line number 370
Testing '1 as $x | 2 as $y | [$x,$y,$x]' at line number 381
Testing '[1,2,3][] as $x | [[4,5,6,7][$x]]' at line number 385
Testing '42 as $x | . | . | . + 432 | $x + 1' at line number 391
Testing '1 as $x | [$x,$x,$x as $x | $x]' at line number 395
Testing '[1, {c:3, d:4}] as [$a, {c:$b, b:$c}] | $a, $b, $c' at line number 399
Testing '. as {as: $kw, "str": $str, ("e"+"x"+"p"): $exp} | [$kw, $str, $exp]' at line number 405
Testing '.[] as [$a, $b] | [$b, $a]' at line number 409
Testing '. as $i | . as [$i] | $i' at line number 414
Testing '. as [$i] | . as $i | $i' at line number 418
Testing '. as [] | null' at line number 423
Testing '. as {} | null' at line number 427
Testing '1+1' at line number 436
Testing '1+1' at line number 440
Testing '2-1' at line number 444
Testing '2-(-1)' at line number 448
Testing '1e+0+0.001e3' at line number 452
Testing '.+4' at line number 456
Testing '.+null' at line number 460
Testing 'null+.' at line number 464
Testing '.a+.b' at line number 468
Testing '[1,2,3] + [.]' at line number 472
Testing '{"a":1} + {"b":2} + {"c":3}' at line number 476
Testing '"asdf" + "jkl;" + . + . + .' at line number 480
Testing '"\u0000\u0020\u0000" + .' at line number 484
Testing '42 - .' at line number 488
Testing '[1,2,3,4,1] - [.,3]' at line number 492
Testing '[10 * 20, 20 / .]' at line number 496
Testing '1 + 2 * 2 + 10 / 2' at line number 500
Testing '[16 / 4 / 2, 16 / 4 * 2, 16 - 4 - 2, 16 - 4 + 2]' at line number 504
Testing '25 % 7' at line number 508
Testing '49732 % 472' at line number 512
Testing '1 + tonumber + ("10" | tonumber)' at line number 516
Testing '[{"a":42},.object,10,.num,false,true,null,"b",[1,4]] | .[] as $x | [$x == .[]]' at line number 520
Testing '[.[] | length]' at line number 532
Testing 'utf8bytelength' at line number 536
Testing '[.[] | try utf8bytelength catch .]' at line number 540
Testing 'map(keys)' at line number 545
Testing '[1,2,empty,3,empty,4]' at line number 549
Testing 'map(add)' at line number 553
Testing 'map_values(.+1)' at line number 557
Testing 'def f: . + 1; def g: def g: . + 100; f | g | f; (f | g), g' at line number 566
Testing 'def f: (1000,2000); f' at line number 571
Testing 'def f(a;b;c;d;e;f): [a+1,b,c,d,e,f]; f(.[0];.[1];.[0];.[0];.[0];.[0])' at line number 576
Testing 'def a: 0; . | a' at line number 581
Testing 'def f(a;b;c;d;e;f;g;h;i;j): [j,i,h,g,f,e,d,c,b,a]; f(.[0];.[1];.[2];.[3];.[4];.[5];.[6];.[7];.[8];.[9])' at line number 586
Testing '([1,2] + [4,5])' at line number 590
Testing 'true' at line number 594
Testing 'null,1,null' at line number 598
Testing '[1,2,3]' at line number 604
Testing '[.[]|floor]' at line number 608
Testing '[.[]|sqrt]' at line number 612
Testing '(add / length) as $m | map((. - $m) as $d | $d * $d) | add / length | sqrt' at line number 616
Testing 'atan * 4 * 1000000|floor / 1000000' at line number 625
Testing '[(3.141592 / 2) * (range(0;20) / 20)|cos * 1000000|floor / 1000000]' at line number 629
Testing '[(3.141592 / 2) * (range(0;20) / 20)|sin * 1000000|floor / 1000000]' at line number 633
Testing 'def f(x): x | x; f([.], . + [42])' at line number 638
Testing 'def f: .+1; def g: f; def f: .+100; def f(a):a+.+11; [(g|f(20)), f]' at line number 646
Testing 'def id(x):x; 2000 as $x | def f(x):1 as $x | id([$x, x, x]); def g(x): 100 as $x | f($x,$x+x); g($x)' at line number 651
Testing 'def x(a;b): a as $a | b as $b | $a + $b; def y($a;$b): $a + $b; def check(a;b): [x(a;b)] == [y(a;b)]; check(.[];.[]*2)' at line number 656
Testing '[[20,10][1,0] as $x | def f: (100,200) as $y | def g: [$x + $y, .]; . + $x | g; f[0] | [f][0][1] | f]' at line number 662
Testing 'def fac: if . == 1 then 1 else . * (. - 1 | fac) end; [.[] | fac]' at line number 667
Testing 'reduce .[] as $x (0; . + $x)' at line number 677
Testing 'reduce .[] as [$i, {j:$j}] (0; . + $i - $j)' at line number 681
Testing 'reduce [[1,2,10], [3,4,10]][] as [$i,$j] (0; . + $i * $j)' at line number 685
Testing '. as $dot|any($dot[];not)' at line number 689
Testing '. as $dot|any($dot[];not)' at line number 693
Testing '. as $dot|all($dot[];.)' at line number 697
Testing '. as $dot|all($dot[];.)' at line number 701
Testing 'path(.foo[0,1])' at line number 709
Testing 'path(.[] | select(.>3))' at line number 714
Testing 'path(.)' at line number 718
Testing 'try path(.a | map(select(.b == 0))) catch .' at line number 722
Testing 'try path(.a | map(select(.b == 0)) | .[0]) catch .' at line number 726
Testing 'try path(.a | map(select(.b == 0)) | .c) catch .' at line number 730
Testing 'try path(.a | map(select(.b == 0)) | .[]) catch .' at line number 734
Testing 'path(.a[path(.b)[0]])' at line number 738
Testing '[paths]' at line number 742
Testing '[leaf_paths]' at line number 746
Testing '["foo",1] as $p | getpath($p), setpath($p; 20), delpaths([$p])' at line number 750
Testing 'map(getpath([2])), map(setpath([2]; 42)), map(delpaths([[2]]))' at line number 756
Testing 'map(delpaths([[0,"foo"]]))' at line number 762
Testing '["foo",1] as $p | getpath($p), setpath($p; 20), delpaths([$p])' at line number 766
Testing 'delpaths([[-200]])' at line number 772
Testing 'try delpaths(0) catch .' at line number 776
Testing 'del(.), del(empty), del((.foo,.bar,.baz) | .[2,3,0]), del(.foo[0], .bar[0], .foo, .baz.bar[0].x)' at line number 780
Testing 'del(.[1], .[-6], .[2], .[-3:9])' at line number 787
Testing '.message = "goodbye"' at line number 794
Testing '.foo = .bar' at line number 798
Testing '.foo |= .+1' at line number 802
Testing '.[] += 2, .[] *= 2, .[] -= 2, .[] /= 2, .[] %=2' at line number 806
Testing '[.[] % 7]' at line number 814
Testing '.foo += .foo' at line number 818
Testing '.[0].a |= {"old":., "new":(.+1)}' at line number 822
Testing 'def inc(x): x |= .+1; inc(.[].a)' at line number 826
Testing '.[2][3] = 1' at line number 830
Testing '.foo[2].bar = 1' at line number 834
Testing 'try ((map(select(.a == 1))[].b) = 10) catch .' at line number 838
Testing 'try ((map(select(.a == 1))[].a) |= .+1) catch .' at line number 842
Testing 'def x: .[1,2]; x=10' at line number 846
Testing 'try (def x: reverse; x=10) catch .' at line number 850
Testing '.[] = 1' at line number 854
Testing '[.[] | if .foo then "yep" else "nope" end]' at line number 862
Testing '[.[] | if .baz then "strange" elif .foo then "yep" else "nope" end]' at line number 866
Testing '[if 1,null,2 then 3 else 4 end]' at line number 870
Testing '[if empty then 3 else 4 end]' at line number 874
Testing '[if 1 then 3,4 else 5 end]' at line number 878
Testing '[if null then 3 else 5,6 end]' at line number 882
Testing '[.[] | [.foo[] // .bar]]' at line number 886
Testing '.[] //= .[0]' at line number 890
Testing '.[] | [.[0] and .[1], .[0] or .[1]]' at line number 894
Testing '[.[] | not]' at line number 901
Testing '[10 > 0, 10 > 10, 10 > 20, 10 < 0, 10 < 10, 10 < 20]' at line number 906
Testing '[10 >= 0, 10 >= 10, 10 >= 20, 10 <= 0, 10 <= 10, 10 <= 20]' at line number 910
Testing '[ 10 == 10, 10 != 10, 10 != 11, 10 == 11]' at line number 915
Testing '["hello" == "hello", "hello" != "hello", "hello" == "world", "hello" != "world" ]' at line number 919
Testing '[[1,2,3] == [1,2,3], [1,2,3] != [1,2,3], [1,2,3] == [4,5,6], [1,2,3] != [4,5,6]]' at line number 923
Testing '[{"foo":42} == {"foo":42},{"foo":42} != {"foo":42}, {"foo":42} != {"bar":42}, {"foo":42} == {"bar":42}]' at line number 927
Testing '[{"foo":[1,2,{"bar":18},"world"]} == {"foo":[1,2,{"bar":18},"world"]},{"foo":[1,2,{"bar":18},"world"]} == {"foo":[1,2,{"bar":19},"world"]}]' at line number 932
Testing '[("foo" | contains("foo")), ("foobar" | contains("foo")), ("foo" | contains("foobar"))]' at line number 937
Testing '[.[]|try if . == 0 then error("foo") elif . == 1 then .a elif . == 2 then empty else . end catch .]' at line number 942
Testing '[.[]|(.a, .a)?]' at line number 946
Testing '[[.[]|[.a,.a]]?]' at line number 950
Testing 'try error("\($__loc__)") catch .' at line number 954
Testing '[.[]|startswith("foo")]' at line number 959
Testing '[.[]|endswith("foo")]' at line number 963
Testing '[.[] | split(", ")]' at line number 967
Testing 'split("")' at line number 971
Testing '[.[]|ltrimstr("foo")]' at line number 975
Testing '[.[]|rtrimstr("foo")]' at line number 979
Testing '[(index(","), rindex(",")), indices(",")]' at line number 983
Testing 'indices(1)' at line number 987
Testing 'indices([1,2])' at line number 991
Testing 'indices([1,2])' at line number 995
Testing 'indices(", ")' at line number 999
Testing '[.[]|split(",")]' at line number 1003
Testing '[.[]|split(", ")]' at line number 1007
Testing '[.[] * 3]' at line number 1011
Testing '[.[] / ","]' at line number 1015
Testing '[.[] / ", "]' at line number 1019
Testing 'map(.[1] as $needle | .[0] | contains($needle))' at line number 1023
Testing 'map(.[1] as $needle | .[0] | contains($needle))' at line number 1027
Testing '[({foo: 12, bar:13} | contains({foo: 12})), ({foo: 12} | contains({})), ({foo: 12, bar:13} | contains({baz:14}))]' at line number 1031
Testing '{foo: {baz: 12, blap: {bar: 13}}, bar: 14} | contains({bar: 14, foo: {blap: {}}})' at line number 1035
Testing '{foo: {baz: 12, blap: {bar: 13}}, bar: 14} | contains({bar: 14, foo: {blap: {bar: 14}}})' at line number 1039
Testing 'sort' at line number 1043
Testing '(sort_by(.b) | sort_by(.a)), sort_by(.a, .b), sort_by(.b, .c), group_by(.b), group_by(.a + .b - .c == 2)' at line number 1047
Testing 'unique' at line number 1055
Testing 'unique' at line number 1059
Testing '[min, max, min_by(.[1]), max_by(.[1]), min_by(.[2]), max_by(.[2])]' at line number 1063
Testing '[min,max,min_by(.),max_by(.)]' at line number 1067
Testing '.foo[.baz]' at line number 1071
Testing '.[] | .error = "no, it's OK"' at line number 1075
Testing '[{a:1}] | .[] | .a=999' at line number 1079
Testing 'to_entries' at line number 1083
Testing 'from_entries' at line number 1087
Testing 'with_entries(.key |= "KEY_" + .)' at line number 1091
Testing 'map(has("foo"))' at line number 1095
Testing 'map(has(2))' at line number 1099
Testing 'keys' at line number 1103
Testing '[][.]' at line number 1107
Testing 'map([1,2][0:.])' at line number 1111
Testing '{"k": {"a": 1, "b": 2}} * .' at line number 1117
Testing '{"k": {"a": 1, "b": 2}, "hello": {"x": 1}} * .' at line number 1121
Testing '{"k": {"a": 1, "b": 2}, "hello": 1} * .' at line number 1125
Testing '{"a": {"b": 1}, "c": {"d": 2}, "e": 5} * .' at line number 1129
Testing '[.[]|arrays]' at line number 1133
Testing '[.[]|objects]' at line number 1137
Testing '[.[]|iterables]' at line number 1141
Testing '[.[]|scalars]' at line number 1145
Testing '[.[]|values]' at line number 1149
Testing '[.[]|booleans]' at line number 1153
Testing '[.[]|nulls]' at line number 1157
Testing 'flatten' at line number 1161
Testing 'flatten(0)' at line number 1165
Testing 'flatten(2)' at line number 1169
Testing 'flatten(2)' at line number 1173
Testing 'try flatten(-1) catch .' at line number 1177
Testing 'transpose' at line number 1181
Testing 'ascii_upcase' at line number 1185
Testing 'bsearch(4)' at line number 1189
Testing 'strftime("%Y-%m-%dT%H:%M:%SZ")' at line number 1195
Testing 'strftime("%A, %B %d, %Y")' at line number 1199
Testing 'gmtime' at line number 1203
Testing 'import "a" as foo; import "b" as bar; def fooa: foo::a; [fooa, bar::a, bar::b, foo::a]' at line number 1208
Testing 'import "c" as foo; [foo::a, foo::c]' at line number 1212
Testing 'include "c"; [a, c]' at line number 1216
Testing 'module (.+1); 0' at line number 1221
Testing 'include "a" (.+1); 0' at line number 1225
Testing 'include "a" []; 0' at line number 1229
Testing 'include "\ "; 0' at line number 1233
Testing 'include "\(a)"; 0' at line number 1237
Testing 'modulemeta' at line number 1240
Testing 'import "syntaxerror" as e; .' at line number 1245
Testing '%::wat' at line number 1249
Testing 'import "test_bind_order" as check; check::check' at line number 1252
Testing 'try -. catch .' at line number 1256
Testing 'join(",")' at line number 1260
Testing '.[] | join(",")' at line number 1264
Testing '.[] | join(",")' at line number 1271
Testing 'try join(",") catch .' at line number 1276
Testing 'try join(",") catch .' at line number 1280
Testing '{if:0,and:1,or:2,then:3,else:4,elif:5,end:6,as:7,def:8,reduce:9,foreach:10,try:11,catch:12,label:13,import:14,include:15,module:16}' at line number 1284
Testing 'try (1/.) catch .' at line number 1288
Testing 'try (1%.) catch .' at line number 1292
Testing '1/0' at line number 1297
Testing '[range(-52;52;1)] as $powers | [$powers[]|pow(2;.)|log2] == $powers' at line number 1301
Testing '[range(-99/2;99/2;1)] as $orig | [$orig[]|pow(2;.)|log2] as $back | ($orig|keys)[]|. as $k | (($orig|.[$k])-($back|.[$k]))|if . < 0 then . * -1 else . end|select(.>.00005)' at line number 1305
Testing '}' at line number 1309
Testing '(.[{}] = 0)?' at line number 1312
286 of 286 tests passed (0 malformed)
PASS tests/jqtest (exit status: 0)
